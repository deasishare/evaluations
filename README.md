# Partie 1 - QCM - Base de données et langage SQL

 **Durée estimée :** 10 mins
 
 **Compétence évaluée :** Gestion de base de données


*Questionnaire à choix multiple. Veuillez choisir la ou les bonnes réponses.*

### 1. SGBDR signifie "Système de gestion de base de données relationnelle" ?
- [x] vrai
- [ ] faux

### 2. une base de données est ...
- [ ] Un logiciel
- [x] Une collection d'information structurée
- [ ] Un module à valider
- [ ] Un langage de développement

### 3. Parmi les propositions suivantes, lesquelles correspondent à des avantages liés à l'utilisation des SGBBR ?
- [ ] L'utilisation d'un langage de requête déclaratif
- [x] Une plus grande indépendance par rapport au système d'exploitation
- [x] Une description unique et globale des données manipulées

### 4. Quelles sécurités offre un SGBDR ?
- [x] L'identification des utilisateur par un mot de passe
- [x] L'association de droits aux utilisateurs
- [x] Des mécanismes de résidence aux pannes limitant l'impact de celles-ci
- [ ] Des mécanismes matériels interdisant les pannes 

### 5. Une contrainte d'intégrité est ...
- [ ] Ce qui permet de spécifier qu'un utilisateur est intègre
- [x] Une propriété qui doit être respectée  par les données pour que la base de données soit cohérente

### 6. Pour un SGBDR, une transaction est ...
- [ ] Un échange entre une banque et un client
- [x] Une unité d'exécution d'un SGBDR
- [x] Un programme qui fait des lectures et/ou écritures sur une base de données en respectant certaines propriétés

### 7. Que signifie l'acronyme "ACID" que l'on associe aux transactions ?
- [x] Atomicity, Consistency, Isolation, Durability
- [ ] Anatole Conrad et Isidore Dubay, les inventeurs de la notion de transaction

### 8. Parmi les modèles de données suivants, lesquels existent ?
- [x] Relationnel
- [x] Entité-association
- [ ] Graphique 

### 9. Qu'est-ce que l'architecture "ANSI/SPARC" ?
- [x] Une architecture 3 niveaux pour les schémas de bases de données
- [ ] Une architecture réseau 

### 10. Que doit-on faire dans la phase de conception d'une base de données ?
- [ ] Recenser les règnes d'organisation
- [ ] Définir le type de base de données
- [x] Recenser les règles de gestion
- [ ] Définir l'architecture réseau

### 11. Parmi les propositions suivantes, lesquelles correspondent à une clé primaire ?
- [x] Champ qui n'accepte pas de doublon
- [x] Permet d'identifier de façon unique un enregistrement dans une table
- [ ] Premier enregistrement dans une table

### 12. Pour créer une requête dans une base de données relationnelles, j'ai besoin de connaître ...
- [x] La ou les tables que je vais utiliser
- [ ] La date de création de la base de données
- [x] Les champs dont j'ai besoin
- [ ] Le nombre d'enregistrements contenus dans ma base de données

### 13. Dans une base de données, un enregistrement correspond à ...
- [ ] Un programme nécessaire pour utiliser la base
- [x] L'ensemble des caractéristiques d'un élément de la table
- [ ] Un annuaire de recherche

### 14. Dans une base de données, une clé primaire sert à ...
- [ ] Enregistrer la base de données 
- [x] Identifier les informations pour pouvoir les retrouver 
- [ ] Exécuter un programme
- [ ] Insérer de nouvelles données

### 15. Parmi les affirmations suivantes concernant le modèle conceptuel de données, laquelle est fausse ?
- [x] Une propriété peut se retrouver dans plusieurs endroits du modèle 
- [ ] Une relation peut relier plus de deux objets
- [ ] Une ou plusieurs propriétés permettent d'identifier de manière unique un objet
- [ ] La dimension d'une relation est le nombre d'objets rentrant dans la relation

# Partie n°2 - QCM - PHP (Hypertext Preprocessor)

 **Durée estimée :** 10 mins
 
 **Compétence évaluée :** Connaissance du langage PHP

*Questionnaire à choix multiple. Veuillez choisir la ou les bonnes réponses.*

### 1. Quels sont les séparateurs utilisés par la méthode GET pour ajouter les données à l'URL ?
- [ ] "?" Pour séparer l'adresse et "%" pour les données.
- [ ] "%" Pour séparer l'adresse et "&" pour les données.
- [x] "?" Pour séparer l'adresse et "&" pour les données.
- [ ] "%" Pour séparer l'adresse et ";" pour les données.

### 2. reset()
- [ ] libère les octets occupés par un tableau
- [x] place le pointeur au début du tableau
- [ ] n'existe pas en PHP
- [ ] sert à vider un tableau

### 3. En quoi consiste la surcharge en PHP Orienté Objet ?
- [ ] à ajouter des méthodes et attributs à une classe fille
- [x] à redéfinir les méthodes et attributs d'une classe mère
- [ ] à hériter des méthodes et attributs d'une classe mère
- [ ] à instancier une classe mère

### 4. L'opérateur || correspond
- [ ] au ET logique
- [x] au OU logique
- [ ] au XOR logique
- [ ] n'existe pas

### 5. Pour envoyer un email au format HTML en PHP il faut
- [ ] ce n'est pas possible
- [ ] utiliser la fonction mail_html()
- [ ] indiquer l'emplacement du fichier html à la fonction mail()
- [x] créer un header au content-type : text/html

### 6. Quelle fonction crée un cookie ?
- [ ] cookie()
- [ ] set()
- [ ] set_cookie()
- [x] setcookie()

### 7. Comment créer une session qui permettra d'utiliser des variables de session ?
- [ ] init_session()
- [ ] var_session()
- [x] session_start()
- [ ] session()

### 8. Comment obtenir l'identifiant unique d'une session ?
- [ ] get_session()
- [x] session_id()
- [ ] $_SESSION["ID"]
- [ ] $_SESSION["ID_PHP"]

### 9. Quelle directive de httpd.conf interdit de lister un dossier ?
- [x] Options -indexes
- [ ] Options none
- [ ] Diretory disable
- [ ] Directory -denied0

### 10. Comment charger un fichier xml pour le lire dans un tableau ?
- [ ] xml_loadfile()
- [ ] simplexml_load()
- [x] simplexml_load_file()
- [ ] xml_file()

### 11. Que fait array_pop() ?
- [ ] retourne le premier élément d'un tableau sans le supprimer
- [ ] retourne le dernier élément d'un tableau sans le supprimer
- [x] retourne le dernier élément d'un tableau et le supprime
- [ ] retourne le premier élément d'un tableau et le supprime

### 12. a quoi sert "continue" à l'intérieur d'une boucle "for" ou "foreach" ?
- [ ] sort de la boucle itérative
- [ ] demande a poursuivre le code même en cas d'erreur
- [ ] cette instruction n'existe pas en PHP
- [x] passe à l'itération suivante

### 13. Comment préciser quel script sera lancé par le bouton submit d'un formulaire ?
- [ ] <form type="page.php"
- [x] <form action="page.php"
- [ ] <form script="page.php"
- [ ] <form submit="page.php"

### 14. Quelle est l'utilité de var_dump() en PHP Objet ?
- [ ] permet de surcharger une classe
- [ ] sert à émettre une exception
- [x] permet de visualiser les attributs d'une classe
- [ ] permet de débuguer en créant un dump de la mémoire

### 15. Quel opérateur est utilisé pour concaténer des chaînes de caractères ?
- [ ] +
- [ ] CONCAT()
- [x] .
- [ ] &

# Partie n°3 - Exercices pratiques - Gestion de base de données

 **Durée estimée :** 25 mins
 
 **Compétence évaluée :** Gestion de base de données


Pour cet exercice, vous devrez utiliser mysql. Vous pouvez utiliser la version d'évaluation en ligne https://demo.phpmyadmin.net/. La plateforme de test doit vous permettre de mener les exercices ci-dessous.

Il conviendra de télécharger les bases de données suivantes :
- Table de villes (2000 enregistrements)
- Table des départements de France

Vous devrez pour chaque point suivant apporter uniquement la requête correspondant.

### 1. Obtenir la liste des 10 villes les plus peuplées en 2012

Requête "SELECT" :

*SELECT * 
FROM `villes_france_free` 
ORDER BY `ville_population_2012` DESC 
LIMIT 10*

### 2. Obtenir la liste des 5 villes ayant la plus faible superficie

Requête "SELECT" :

*SELECT * 
FROM `villes_france_free` 
ORDER BY `ville_surface` ASC 
LIMIT 5*

### 3. Obtenir le nom des 2 villes les plus peuplées en 2012, ainsi que le nom du département associé

Requête "SELECT" :

*SELECT * 
FROM `villes_france_free` 
LEFT JOIN departement ON departement_code = ville_departement
ORDER BY `ville_population_2012` DESC 
LIMIT 2*

### 5. Obtenir la liste du nom de chaque département, associé à son code et du nombre de commune au sein de ces département, en triant afin d’obtenir en priorité les départements qui possèdent le plus de communes

Requête "SELECT" :

*SELECT departement_nom, ville_departement, COUNT(*) AS nbr_items 
FROM `villes_france_free` 
LEFT JOIN departement ON departement_code = ville_departement
GROUP BY ville_departement
ORDER BY `nbr_items` DESC*

### 6. Obtenir la liste des 10 plus grands départements, en termes de superficie

Requête "SELECT" :

*SELECT departement_nom, ville_departement, SUM(`ville_surface`) AS dpt_surface 
FROM `villes_france_free` 
LEFT JOIN departement ON departement_code = ville_departement
GROUP BY ville_departement  
ORDER BY dpt_surface  DESC
LIMIT 10*


### 7. Compter le nombre de villes dont le nom commence par “Saint”

Requête "SELECT" :
*
SELECT COUNT(*) 
FROM `villes_france_free` 
WHERE `ville_nom` LIKE 'saint%'*


### 8. Obtenir en une seule requête SQL la liste des villes dont la superficie est supérieure à la superficie moyenne

Requête "SELECT" :

*SELECT * 
FROM `villes_france_free` 
WHERE `ville_surface` > (SELECT AVG(`ville_surface`) FROM `villes_france_free`)*


### 09. Remplacer les tirets par un espace vide, pour toutes les villes commençant par “SAINT-” (dans la colonne qui contient les noms en majuscule)

Requête "UPDATE" :

*UPDATE `villes_france_free` 
SET ville_nom = REPLACE(ville_nom, '-', ' ') 
WHERE `ville_nom` LIKE 'SAINT-%'*
